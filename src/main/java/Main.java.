import model.Student;
import model.Inventory;
import service.StudentService;
import service.InventoryService;

public class Main {
    public static void main(String[] args) {
        System.out.println("--- Starting Student & Inventory System (Level 2) ---");

        // Initialize our Service Layer workers
        StudentService studentService = new StudentService();
        InventoryService inventoryService = new InventoryService();

        // 1. Test Student Persistence (Saving to SQL)
        System.out.println("\nRegistering Student...");
        Student newStudent = new Student("Alice Smith", "alice@example.com", "Java Backend");
        studentService.registerStudent(newStudent);

        // 2. Test Inventory Persistence (Saving to SQL)
        System.out.println("\nAdding Inventory Item...");
        Inventory newItem = new Inventory(1, "MacBook Pro", 10);
        inventoryService.addItem(newItem);

        // 3. Read back all data to confirm it's in the database
        System.out.println("\n--- Current Student Directory ---");
        studentService.getStudentDirectory().forEach(s -> 
            System.out.println("Name: " + s.getName() + " | Email: " + s.getEmail()));

        System.out.println("\n--- Current Warehouse Inventory ---");
        inventoryService.getAllItems().forEach(i -> 
            System.out.println("Item: " + i.getItemName() + " | Qty: " + i.getQuantity()));
    }
}
